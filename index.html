<!DOCTYPE html>

<html lang="zh-CN">

<head>

  <meta charset="UTF-8">

  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <title>计量管理系统</title>

  <script src="https://cdn.tailwindcss.com"></script>

  <link href="https://cdn.jsdelivr.net/npm/font-awesome@4.7.0/css/font-awesome.min.css" rel="stylesheet">

  <script>

    tailwind.config = {

      theme: {

        extend: {

          colors: {

            primary: '#4a90e2',

            secondary: '#4caf50',

            warning: '#ff9800',

            danger: '#f44336',

            neutral: {

              100: '#f5f5f5',

              200: '#eee',

              300: '#ddd',

              400: '#999',

              500: '#666',

              600: '#333',

            }

          },

          fontFamily: {

            sans: ['Inter', 'system-ui', 'sans-serif'],

          },

          boxShadow: {

            'card': '0 4px 12px rgba(0,0,0,0.05)',

            'modal': '0 5px 15px rgba(0,0,0,0.1)',

          }

        },

      }

    }

  </script>

  <style type="text/tailwindcss">

    @layer utilities {

      .content-auto {

        content-visibility: auto;

      }

      .nav-link-active {

        @apply text-primary border-b-2 border-primary;

      }

      .tab-btn-active {

        @apply bg-primary text-white border-primary;

      }

      .btn-hover {

        @apply hover:-translate-y-1 transition-all duration-300;

      }

      .card-hover {

        @apply hover:border-primary hover:-translate-y-2 transition-all duration-300;

      }

      .input-focus {

        @apply focus:outline-none focus:border-primary transition-colors duration-300;

      }

      .animate-fade-in {

        animation: fadeIn 0.5s ease-in-out;

      }

      .animate-slide-up {

        animation: slideUp 0.5s ease-out;

      }

      .animate-spin {

        animation: spin 1s linear infinite;

      }

      @keyframes fadeIn {

        from { opacity: 0; }

        to { opacity: 1; }

      }

      @keyframes slideUp {

        from { transform: translateY(20px); opacity: 0; }

        to { transform: translateY(0); opacity: 1; }

      }

      @keyframes spin {

        0% { transform: rotate(0deg); }

        100% { transform: rotate(360deg); }

      }

    }

  </style>

</head>

<body class="bg-gray-50 font-sans">

  <!-- 登录模态框 -->

  <div id="login-modal" class="fixed inset-0 bg-black/50 z-50 flex items-center justify-center hidden">

    <div class="bg-white rounded-xl shadow-modal w-full max-w-md p-6 animate-fade-in">

      <h2 class="text-2xl font-bold text-neutral-600 mb-6 text-center">计量管理系统</h2>

      <p class="text-neutral-500 text-center mb-8">请登录以访问系统</p>

      

      <div class="space-y-4">

        <div>

          <label for="employee-id" class="block text-sm font-medium text-neutral-600 mb-1">工号:</label>

          <div class="relative">

            <span class="absolute inset-y-0 left-0 flex items-center pl-3 text-neutral-400">

              <i class="fa fa-user"></i>

            </span>

            <input type="text" id="employee-id" class="w-full pl-10 pr-4 py-3 rounded-lg border border-neutral-300 input-focus" placeholder="请输入工号" maxlength="10">

          </div>

          <div class="text-xs text-neutral-500 text-right mt-1"><span id="employee-id-count">0</span>/10</div>

        </div>

        

        <div>

          <label for="name" class="block text-sm font-medium text-neutral-600 mb-1">姓名:</label>

          <div class="relative">

            <span class="absolute inset-y-0 left-0 flex items-center pl-3 text-neutral-400">

              <i class="fa fa-signature"></i>

            </span>

            <input type="text" id="name" class="w-full pl-10 pr-4 py-3 rounded-lg border border-neutral-300 input-focus" placeholder="请输入姓名">

          </div>

        </div>

        

        <button id="login-btn" class="w-full bg-primary hover:bg-primary/90 text-white font-medium py-3 px-4 rounded-lg transition-colors duration-300 flex items-center justify-center btn-hover">

          <i class="fa fa-sign-in mr-2"></i> 登录

        </button>

        

        <p id="login-error" class="text-danger text-sm text-center mt-2 hidden">请输入工号和姓名</p>

      </div>

    </div>

  </div>



  <!-- 导航栏 -->

  <nav class="bg-white shadow-md sticky top-0 z-40">

    <div class="container mx-auto px-4">

      <div class="flex items-center justify-between h-16">

        <div class="flex items-center">

          <span class="text-primary font-bold text-xl mr-8">计量管理系统</span>

          <div class="hidden md:flex space-x-6">

            <a href="#home" class="nav-link text-neutral-600 hover:text-primary nav-link-active py-2">首页</a>

            <a href="#tabs" class="nav-link text-neutral-600 hover:text-primary py-2">计量柜明细</a>

            <a href="#independent" class="nav-link text-neutral-600 hover:text-primary py-2">计量柜密钥</a>

            <a href="#records" class="nav-link text-neutral-600 hover:text-primary py-2">访问记录</a>

          </div>

        </div>

        <div class="flex items-center">

          <span id="welcome-message" class="text-neutral-600 mr-4 hidden"></span>

          <button id="logout-btn" class="bg-danger hover:bg-danger/90 text-white font-medium py-2 px-4 rounded-lg transition-colors duration-300 btn-hover">

            <i class="fa fa-sign-out mr-1"></i> 登出

          </button>

        </div>

      </div>

    </div>

  </nav>



  <div class="container mx-auto px-4 py-8">

    <!-- 首页区域 -->

    <section id="home" class="bg-white rounded-xl shadow-card p-6 mb-8 animate-fade-in">

      <div class="flex items-center mb-6">

        <div class="bg-primary/10 p-3 rounded-lg mr-4">

          <i class="fa fa-info-circle text-primary text-2xl"></i>

        </div>

        <h1 class="text-2xl font-bold text-neutral-600">计量器具领用与归还流程</h1>

      </div>

      

      <div class="space-y-4 text-neutral-600">

        <div class="flex items-start">

          <span class="bg-primary text-white rounded-full w-6 h-6 flex items-center justify-center text-sm mr-3 mt-0.5">1.1</span>

          <p>扫码获取密钥后，选择所需计量器具，然后扫计量器具领用信息登记表进行登记完成领用流程。</p>

        </div>

        <div class="flex items-start">

          <span class="bg-primary text-white rounded-full w-6 h-6 flex items-center justify-center text-sm mr-3 mt-0.5">1.2</span>

          <p>填写了归还时间则请按所填时间归还，归还后请与计量员确认。</p>

        </div>

        <div class="flex items-start">

          <span class="bg-primary text-white rounded-full w-6 h-6 flex items-center justify-center text-sm mr-3 mt-0.5">1.3</span>

          <p>若未填写归还时间请再次扫计量器具领用信息登记表并完善所有信息</p>

        </div>

        <div class="flex items-start">

          <span class="bg-primary text-white rounded-full w-6 h-6 flex items-center justify-center text-sm mr-3 mt-0.5">1.4</span>

          <p>注意事项：领用前须扫码登记相关信息，领用后须妥善保管，无使用需求及时归还。谢谢！</p>

        </div>

      </div>

    </section>



    <!-- 选项卡式加载区域 - 计量柜明细 -->

    <section id="tabs" class="bg-white rounded-xl shadow-card p-6 mb-8 animate-fade-in">

      <div class="flex items-center mb-6">

        <div class="bg-blue-100 p-3 rounded-lg mr-4">

          <i class="fa fa-archive text-primary text-2xl"></i>

        </div>

        <h2 class="text-xl font-bold text-neutral-600">计量柜物品明细</h2>

      </div>

      

      <div class="tab-buttons flex flex-wrap gap-2 mb-6">

        <button class="tab-btn bg-neutral-100 hover:bg-neutral-200 text-neutral-600 py-2 px-4 rounded-lg transition-colors duration-300 tab-btn-active" data-tab="tab4">2号计量柜</button>

        <button class="tab-btn bg-neutral-100 hover:bg-neutral-200 text-neutral-600 py-2 px-4 rounded-lg transition-colors duration-300" data-tab="tab5">10号计量柜</button>

        <button class="tab-btn bg-neutral-100 hover:bg-neutral-200 text-neutral-600 py-2 px-4 rounded-lg transition-colors duration-300" data-tab="tab6">19号计量柜</button>

      </div>

      

      <div class="tab-content">

        <div class="tab-pane active" id="tab4">

          <div class="content-loading text-neutral-400 flex items-center justify-center py-10">

            <div class="animate-spin rounded-full h-5 w-5 border-b-2 border-primary mr-2"></div>

            加载中...

          </div>

          <div class="dynamic-content hidden animate-fade-in">

            <h3 class="text-lg font-semibold text-neutral-600 mb-4">2号计量柜物品明细</h3>

            <div class="overflow-x-auto">

              <table class="min-w-full divide-y divide-neutral-200">

                <thead class="bg-neutral-100">

                  <tr>

                    <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-neutral-500 uppercase tracking-wider">序号</th>

                    <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-neutral-500 uppercase tracking-wider">名称</th>

                    <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-neutral-500 uppercase tracking-wider">型号</th>

                    <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-neutral-500 uppercase tracking-wider">状态</th>

                    <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-neutral-500 uppercase tracking-wider">最后更新时间</th>

                  </tr>

                </thead>

                <tbody class="bg-white divide-y divide-neutral-200" id="tab4-content">

                  <!-- 内容将通过JavaScript动态加载 -->

                </tbody>

              </table>

            </div>

          </div>

        </div>

        <div class="tab-pane" id="tab5">

          <div class="content-loading text-neutral-400 flex items-center justify-center py-10">

            <div class="animate-spin rounded-full h-5 w-5 border-b-2 border-primary mr-2"></div>

            加载中...

          </div>

          <div class="dynamic-content hidden animate-fade-in">

            <h3 class="text-lg font-semibold text-neutral-600 mb-4">10号计量柜物品明细</h3>

            <div class="overflow-x-auto">

              <table class="min-w-full divide-y divide-neutral-200">

                <thead class="bg-neutral-100">

                  <tr>

                    <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-neutral-500 uppercase tracking-wider">序号</th>

                    <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-neutral-500 uppercase tracking-wider">名称</th>

                    <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-neutral-500 uppercase tracking-wider">型号</th>

                    <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-neutral-500 uppercase tracking-wider">状态</th>

                    <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-neutral-500 uppercase tracking-wider">最后更新时间</th>

                  </tr>

                </thead>

                <tbody class="bg-white divide-y divide-neutral-200" id="tab5-content">

                  <!-- 内容将通过JavaScript动态加载 -->

                </tbody>

              </table>

            </div>

          </div>

        </div>

        <div class="tab-pane" id="tab6">

          <div class="content-loading text-neutral-400 flex items-center justify-center py-10">

            <div class="animate-spin rounded-full h-5 w-5 border-b-2 border-primary mr-2"></div>

            加载中...

          </div>

          <div class="dynamic-content hidden animate-fade-in">

            <h3 class="text-lg font-semibold text-neutral-600 mb-4">19号计量柜物品明细</h3>

            <div class="overflow-x-auto">

              <table class="min-w-full divide-y divide-neutral-200">

                <thead class="bg-neutral-100">

                  <tr>

                    <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-neutral-500 uppercase tracking-wider">序号</th>

                    <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-neutral-500 uppercase tracking-wider">名称</th>

                    <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-neutral-500 uppercase tracking-wider">型号</th>

                    <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-neutral-500 uppercase tracking-wider">状态</th>

                    <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-neutral-500 uppercase tracking-wider">最后更新时间</th>

                  </tr>

                </thead>

                <tbody class="bg-white divide-y divide-neutral-200" id="tab6-content">

                  <!-- 内容将通过JavaScript动态加载 -->

                </tbody>

              </table>

            </div>

          </div>

        </div>

      </div>

    </section>



    <!-- 独立按钮加载区域 - 计量柜密钥 -->

    <section id="independent" class="bg-white rounded-xl shadow-card p-6 mb-8 animate-fade-in">

      <div class="flex items-center mb-6">

        <div class="bg-green-100 p-3 rounded-lg mr-4">

          <i class="fa fa-key text-secondary text-2xl"></i>

        </div>

        <h2 class="text-xl font-bold text-neutral-600">计量柜密钥</h2>

      </div>

      

      <div class="load-area grid grid-cols-1 md:grid-cols-3 gap-6">

        <!-- 动态内容块1 -->

        <div class="load-card bg-white border border-neutral-200 rounded-xl p-6 shadow-sm card-hover">

          <h3 class="text-lg font-semibold text-neutral-600 mb-4 text-center">2号计量柜</h3>

          <button class="load-btn w-full bg-primary hover:bg-primary/90 text-white font-medium py-3 px-4 rounded-lg transition-colors duration-300 btn-hover" data-target="content1">

            查看密钥

          </button>

          <div class="content-loading text-neutral-400 mt-4 text-center">！！！请勿泄密</div>

          <div class="dynamic-content hidden mt-4 p-4 bg-neutral-50 rounded-lg animate-fade-in">

            <p class="text-center"><strong class="text-lg text-primary">2号计量柜密钥为0710。</strong>请勿泄密！</p>

            <p class="text-sm text-neutral-500 text-center mt-2">数据更新时间：<span id="time1"></span></p>

          </div>

        </div>

        

        <!-- 动态内容块2 -->

        <div class="load-card bg-white border border-neutral-200 rounded-xl p-6 shadow-sm card-hover">

          <h3 class="text-lg font-semibold text-neutral-600 mb-4 text-center">10号计量柜</h3>

          <button class="load-btn w-full bg-primary hover:bg-primary/90 text-white font-medium py-3 px-4 rounded-lg transition-colors duration-300 btn-hover" data-target="content2">

            查看密钥

          </button>

          <div class="content-loading text-neutral-400 mt-4 text-center">！！！请勿泄密</div>

          <div class="dynamic-content hidden mt-4 p-4 bg-neutral-50 rounded-lg animate-fade-in">

            <p class="text-center"><strong class="text-lg text-primary">10号计量柜密钥为923！</strong>请勿泄密！</p>

            <p class="text-sm text-neutral-500 text-center mt-2">数据更新时间：<span id="time2"></span></p>

          </div>

        </div>

        

        <!-- 动态内容块3 -->

        <div class="load-card bg-white border border-neutral-200 rounded-xl p-6 shadow-sm card-hover">

          <h3 class="text-lg font-semibold text-neutral-600 mb-4 text-center">19号计量柜</h3>

          <button class="load-btn w-full bg-primary hover:bg-primary/90 text-white font-medium py-3 px-4 rounded-lg transition-colors duration-300 btn-hover" data-target="content3">

            查看密钥

          </button>

          <div class="content-loading text-neutral-400 mt-4 text-center">！！！请勿泄密</div>

          <div class="dynamic-content hidden mt-4 p-4 bg-neutral-50 rounded-lg animate-fade-in">

            <p class="text-center"><strong class="text-lg text-primary">19号计量柜密钥为0000！</strong>请勿泄密！</p>

            <p class="text-sm text-neutral-500 text-center mt-2">数据更新时间：<span id="time3"></span></p>

          </div>

        </div>

      </div>

    </section>



    <!-- 访问记录区域 -->

    <section id="records" class="bg-white rounded-xl shadow-card p-6 mb-8 animate-fade-in">

      <div class="flex items-center mb-6">

        <div class="bg-orange-100 p-3 rounded-lg mr-4">

          <i class="fa fa-history text-warning text-2xl"></i>

        </div>

        <h2 class="text-xl font-bold text-neutral-600">访问记录</h2>

      </div>

      

      <div class="record-controls flex flex-wrap gap-4 mb-6">

        <div class="search-box flex-1 min-w-[280px]">

          <div class="relative flex-1">

            <span class="absolute inset-y-0 left-0 flex items-center pl-3 text-neutral-400">

              <i class="fa fa-search"></i>

            </span>

            <input type="text" id="search-input" class="w-full pl-10 pr-4 py-3 rounded-lg border border-neutral-300 input-focus" placeholder="输入关键词搜索...">

          </div>

          <button id="search-btn" class="ml-2 bg-primary hover:bg-primary/90 text-white font-medium py-3 px-4 rounded-lg transition-colors duration-300 btn-hover">

            <i class="fa fa-search mr-1"></i> 搜索

          </button>

        </div>

        

        <button id="export-btn" class="bg-secondary hover:bg-secondary/90 text-white font-medium py-3 px-4 rounded-lg transition-colors duration-300 btn-hover">

          <i class="fa fa-download mr-1"></i> 导出记录

        </button>

        

        <button id="password-btn" class="bg-warning hover:bg-warning/90 text-white font-medium py-3 px-4 rounded-lg transition-colors duration-300 btn-hover">

          <i class="fa fa-lock mr-1"></i> 修改密码

        </button>

      </div>

      

      <div id="records-content">

        <div id="records-loading" class="text-neutral-400 flex items-center justify-center py-10">

          <div class="animate-spin rounded-full h-5 w-5 border-b-2 border-primary mr-2"></div>

          加载记录中...

        </div>

        <div class="overflow-x-auto hidden" id="records-table-container">

          <table class="min-w-full divide-y divide-neutral-200">

            <thead class="bg-neutral-100">

              <tr>

                <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-neutral-500 uppercase tracking-wider">序号</th>

                <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-neutral-500 uppercase tracking-wider">会话ID</th>

                <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-neutral-500 uppercase tracking-wider">工号</th>

                <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-neutral-500 uppercase tracking-wider">姓名</th>

                <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-neutral-500 uppercase tracking-wider">访问时间</th>

                <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-neutral-500 uppercase tracking-wider">访问页面</th>

                <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-neutral-500 uppercase tracking-wider">IP地址</th>

                <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-neutral-500 uppercase tracking-wider">设备信息</th>

              </tr>

            </thead>

            <tbody class="bg-white divide-y divide-neutral-200" id="records-body">

              <!-- 记录将通过JavaScript动态添加 -->

            </tbody>

          </table>

        </div>

        <div id="records-empty" class="hidden text-neutral-500 text-center py-10">

          <div class="bg-neutral-100 p-6 rounded-full inline-block mb-4">

            <i class="fa fa-folder-open-o text-4xl text-neutral-400"></i>

          </div>

          <p class="text-lg">暂无访问记录</p>

        </div>

      </div>

    </section>

  </div>



  <!-- 验证模态框 -->

  <div id="verify-modal" class="fixed inset-0 bg-black/50 z-50 flex items-center justify-center hidden">

    <div class="bg-white rounded-xl shadow-modal w-full max-w-md p-6 animate-fade-in">

      <div class="flex justify-between items-center mb-4">

        <h3 class="text-xl font-bold text-neutral-600">请输入验证码</h3>

        <button class="close text-neutral-400 hover:text-neutral-600">

          <i class="fa fa-times text-xl"></i>

        </button>

      </div>

      

      <div class="mb-4">

        <label for="verify-code" class="block text-sm font-medium text-neutral-600 mb-1">验证码:</label>

        <div class="relative">

          <span class="absolute inset-y-0 left-0 flex items-center pl-3 text-neutral-400">

            <i class="fa fa-shield"></i>

          </span>

          <input type="text" id="verify-code" class="w-full pl-10 pr-4 py-3 rounded-lg border border-neutral-300 input-focus" placeholder="输入验证码">

        </div>

      </div>

      

      <button id="verify-btn" class="w-full bg-primary hover:bg-primary/90 text-white font-medium py-3 px-4 rounded-lg transition-colors duration-300 btn-hover">

        验证

      </button>

      

      <p id="verify-error" class="text-danger text-sm text-center mt-2 hidden">验证码错误，请重新输入</p>

    </div>

  </div>



  <!-- 导出密码模态框 -->

  <div id="export-modal" class="fixed inset-0 bg-black/50 z-50 flex items-center justify-center hidden">

    <div class="bg-white rounded-xl shadow-modal w-full max-w-md p-6 animate-fade-in">

      <div class="flex justify-between items-center mb-4">

        <h3 class="text-xl font-bold text-neutral-600">请输入导出密码</h3>

        <button class="close text-neutral-400 hover:text-neutral-600">

          <i class="fa fa-times text-xl"></i>

        </button>

      </div>

      

      <div class="mb-4">

        <label for="export-password" class="block text-sm font-medium text-neutral-600 mb-1">密码:</label>

        <div class="relative">

          <span class="absolute inset-y-0 left-0 flex items-center pl-3 text-neutral-400">

            <i class="fa fa-lock"></i>

          </span>

          <input type="password" id="export-password" class="w-full pl-10 pr-4 py-3 rounded-lg border border-neutral-300 input-focus" placeholder="输入导出密码">

        </div>

      </div>

      

      <button id="export-confirm-btn" class="w-full bg-primary hover:bg-primary/90 text-white font-medium py-3 px-4 rounded-lg transition-colors duration-300 btn-hover">

        确认

      </button>

      

      <p id="export-error" class="text-danger text-sm text-center mt-2 hidden">密码错误，请重新输入</p>

    </div>

  </div>



  <!-- 修改密码模态框 -->

  <div id="change-password-modal" class="fixed inset-0 bg-black/50 z-50 flex items-center justify-center hidden">

    <div class="bg-white rounded-xl shadow-modal w-full max-w-md p-6 animate-fade-in">

      <div class="flex justify-between items-center mb-4">

        <h3 class="text-xl font-bold text-neutral-600">修改密码</h3>

        <button class="close text-neutral-400 hover:text-neutral-600">

          <i class="fa fa-times text-xl"></i>

        </button>

      </div>

      

      <div class="space-y-4">

        <div>

          <label for="security-answer" class="block text-sm font-medium text-neutral-600 mb-1">密保问题：网页制作者入职第一家企业时首次入住的宿舍号是多少？</label>

          <div class="relative">

            <span class="absolute inset-y-0 left-0 flex items-center pl-3 text-neutral-400">

              <i class="fa fa-question-circle"></i>

            </span>

            <input type="text" id="security-answer" class="w-full pl-10 pr-4 py-3 rounded-lg border border-neutral-300 input-focus" placeholder="请输入答案">

          </div>

        </div>

        

        <div>

          <label for="new-record-password" class="block text-sm font-medium text-neutral-600 mb-1">新的访问记录密码：</label>

          <div class="relative">

            <span class="absolute inset-y-0 left-0 flex items-center pl-3 text-neutral-400">

              <i class="fa fa-lock"></i>

            </span>

            <input type="password" id="new-record-password" class="w-full pl-10 pr-4 py-3 rounded-lg border border-neutral-300 input-focus" placeholder="输入新密码">

          </div>

        </div>

        

        <div>

          <label for="new-export-password" class="block text-sm font-medium text-neutral-600 mb-1">新的导出密码：</label>

          <div class="relative">

            <span class="absolute inset-y-0 left-0 flex items-center pl-3 text-neutral-400">

              <i class="fa fa-lock"></i>

            </span>

            <input type="password" id="new-export-password" class="w-full pl-10 pr-4 py-3 rounded-lg border border-neutral-300 input-focus" placeholder="输入新密码">

          </div>

        </div>

        

        <button id="change-password-btn" class="w-full bg-primary hover:bg-primary/90 text-white font-medium py-3 px-4 rounded-lg transition-colors duration-300 btn-hover">

          修改

        </button>

        

        <p id="change-error" class="text-danger text-sm text-center mt-2 hidden">答案错误，无法修改密码</p>

      </div>

    </div>

  </div>



  <footer class="bg-white border-t border-neutral-200 py-8 mt-12">

    <div class="container mx-auto px-4">

      <div class="grid grid-cols-1 md:grid-cols-3 gap-8">

        <div>

          <h3 class="text-lg font-semibold text-neutral-600 mb-4">联系我们</h3>

          <ul class="space-y-2 text-neutral-500">

            <li class="flex items-center">

              <i class="fa fa-envelope text-primary mr-2"></i>

              <a href="mailto:邮箱" target="_blank">邮箱：暂无</a>

            </li>

            <li class="flex items-center">

              <i class="fa fa-phone text-primary mr-2"></i>

              <a href="tel:+8617724675804">电话：+8617724675804</a>

            </li>

            <li class="flex items-center">

              <i class="fa fa-map-marker-alt text-primary mr-2"></i>

              <span>地址：中华人民共和国广东省</span>

            </li>

          </ul>

          <div class="flex space-x-4 mt-4">

            <a href="#" target="_blank" class="text-neutral-400 hover:text-primary transition-colors duration-300">

              <i class="fa fa-weixin text-xl"></i>

            </a>

            <a href="#" target="_blank" class="text-neutral-400 hover:text-primary transition-colors duration-300">

              <i class="fa fa-weibo text-xl"></i>

            </a>

            <a href="#" target="_blank" class="text-neutral-400 hover:text-primary transition-colors duration-300">

              <i class="fa fa-linkedin text-xl"></i>

            </a>

          </div>

        </div>

        

        <div>

          <h3 class="text-lg font-semibold text-neutral-600 mb-4">快速链接</h3>

          <ul class="space-y-2 text-neutral-500">

            <li><a href="#home" class="hover:text-primary transition-colors duration-300">首页</a></li>

            <li><a href="#tabs" class="hover:text-primary transition-colors duration-300">计量柜明细</a></li>

            <li><a href="#independent" class="hover:text-primary transition-colors duration-300">计量柜密钥</a></li>

            <li><a href="#records" class="hover:text-primary transition-colors duration-300">访问记录</a></li>

          </ul>

        </div>

        

        <div>

          <h3 class="text-lg font-semibold text-neutral-600 mb-4">帮助中心</h3>

          <ul class="space-y-2 text-neutral-500">

            <li><a href="#" target="_blank" class="hover:text-primary transition-colors duration-300">使用指南</a></li>

            <li><a href="#" target="_blank" class="hover:text-primary transition-colors duration-300">常见问题</a></li>

            <li><a href="#" target="_blank" class="hover:text-primary transition-colors duration-300">计量管理</a></li>

            <li><a href="#" target="_blank" class="hover:text-primary transition-colors duration-300">联系支持</a></li>

          </ul>

        </div>

      </div>

    </div>

  </footer>



  <script>

    // 显示字符计数

    document.getElementById('employee-id').addEventListener('input', function() {

      const count = this.value.length;

      document.getElementById('employee-id-count').textContent = count;

    });

    

    // 用户信息

    let currentUser = {

      employeeId: '',

      name: '',

      sessionId: ''

    };

    

    // 初始化访问记录数组

    let accessRecords = [];

    let filteredRecords = [];

    

    // 会话超时时间（毫秒），设置为10分钟

    const SESSION_TIMEOUT = 10 * 60 * 1000;

    let sessionTimer;

    

    // 默认密码和密保答案

    const DEFAULT_RECORD_PASSWORD = 'weihuadai';

    const DEFAULT_EXPORT_PASSWORD = 'weihuadai';

    const SECURITY_ANSWER = '3-1125';

    

    // 从本地存储加载密码设置

    let recordPassword = localStorage.getItem('recordPassword') || DEFAULT_RECORD_PASSWORD;

    let exportPassword = localStorage.getItem('exportPassword') || DEFAULT_EXPORT_PASSWORD;

    

    // 计量柜数据

    const cabinetData = {

      'tab4': [

        { id: 1, name: '万用表', model: 'UT39E', status: '可用', lastUpdate: '2025-07-10 08:30' },

        { id: 2, name: '钳形表', model: 'UT205A', status: '已借出', lastUpdate: '2025-07-09 16:45' },

        { id: 3, name: '兆欧表', model: 'ZC25-4', status: '可用', lastUpdate: '2025-07-10 09:15' },

        { id: 4, name: '接地电阻表', model: 'ETCR2000', status: '维修中', lastUpdate: '2025-07-08 11:20' },

        { id: 5, name: '示波器', model: 'DS1054Z', status: '可用', lastUpdate: '2025-07-10 10:00' }

      ],

      'tab5': [

        { id: 1, name: '温度计', model: 'TES-1310', status: '可用', lastUpdate: '2025-07-10 08:45' },

        { id: 2, name: '压力计', model: 'YT-2000', status: '可用', lastUpdate: '2025-07-10 09:30' },

        { id: 3, name: '流量计', model: 'LWGY-15', status: '已借出', lastUpdate: '2025-07-09 15:20' },

        { id: 4, name: '硬度计', model: 'TH320', status: '可用', lastUpdate: '2025-07-10 10:15' },

        { id: 5, name: '卡尺', model: 'Mitutoyo 500-196-30', status: '已借出', lastUpdate: '2025-07-09 17:00' }

      ],

      'tab6': [

        { id: 1, name: '功率分析仪', model: 'WT3000', status: '可用', lastUpdate: '2025-07-10 09:00' },

        { id: 2, name: '信号发生器', model: 'AFG3102C', status: '已借出', lastUpdate: '2025-07-09 14:30' },

        { id: 3, name: '频谱分析仪', model: 'N9010A', status: '可用', lastUpdate: '2025-07-10 10:30' },

        { id: 4, name: '逻辑分析仪', model: 'MDO3024', status: '维修中', lastUpdate: '2025-07-07 16:15' },

        { id: 5, name: '耐压测试仪', model: 'UT501E', status: '可用', lastUpdate: '2025-07-10 11:00' }

      ]

    };

    

    // 显示模态框函数

    function showModal(modalId) {

      document.getElementById(modalId).style.display = 'flex';

    }



    // 隐藏模态框函数

    function hideModal(modalId) {

      document.getElementById(modalId).style.display = 'none';

      // 清空输入框和错误信息

      const inputs = document.querySelectorAll(`#${modalId} input`);

      inputs.forEach(input => input.value = '');

      

      const errors = document.querySelectorAll(`#${modalId} .error-message, #${modalId} .hidden`);

      errors.forEach(error => {

        if (error.classList.contains('error-message') || error.classList.contains('hidden')) {

          error.style.display = 'none';

        }

      });

    }



    // 登录功能

    document.getElementById('login-btn').addEventListener('click', function() {

      const employeeId = document.getElementById('employee-id').value;

      const name = document.getElementById('name').value;

      

      if (!employeeId || !name) {

        document.getElementById('login-error').style.display = 'block';

        return;

      }

      

      // 生成会话ID

      currentUser.sessionId = generateSessionId();

      currentUser.employeeId = employeeId;

      currentUser.name = name;

      

      // 隐藏登录模态框

      hideModal('login-modal');

      

      // 记录登录访问

      recordAccess('登录成功');

      

      // 重置会话计时器

      resetSessionTimer();

      

      // 显示欢迎信息

      showWelcomeMessage();

      

      // 初始化计量柜数据

      initCabinetData();

      

      // 加载访问记录

      loadRecords();

      

      // 初始化查看密钥按钮

      initKeyButtons();

    });

    

    // 生成会话ID

    function generateSessionId() {

      return 'SID-' + Math.random().toString(36).substr(2, 9).toUpperCase();

    }

    

    // 显示欢迎信息

    function showWelcomeMessage() {

      const welcomeMsg = document.getElementById('welcome-message');

      welcomeMsg.textContent = `欢迎，${currentUser.name} (${currentUser.employeeId})`;

      welcomeMsg.classList.remove('hidden');

    }

    

    // 会话超时处理

    function resetSessionTimer() {

      clearTimeout(sessionTimer);

      sessionTimer = setTimeout(() => {

        alert('会话已过期，请重新登录。');

        logout();

      }, SESSION_TIMEOUT);

    }



    // 登出功能

    document.getElementById('logout-btn').addEventListener('click', function() {

      logout();

    });

    

    function logout() {

      currentUser = {

        employeeId: '',

        name: '',

        sessionId: ''

      };

      showModal('login-modal');

      document.getElementById('welcome-message').classList.add('hidden');

      document.getElementById('welcome-message').textContent = '';

      accessRecords = [];

      filteredRecords = [];

      updateRecordsTable();

    }



    // 记录访问信息

    function recordAccess(page) {

      const now = new Date();

      const record = {

        id: accessRecords.length + 1,

        sessionId: currentUser.sessionId,

        employeeId: currentUser.employeeId,

        name: currentUser.name,

        accessTime: now.toLocaleString(),

        page: page,

        ip: '未知',

        device: '未知'

      };

      accessRecords.push(record);

      filteredRecords = accessRecords;

      updateRecordsTable();

    }



    // 更新访问记录表格

    function updateRecordsTable() {

      const recordsBody = document.getElementById('records-body');

      recordsBody.innerHTML = '';

      

      if (filteredRecords.length === 0) {

        document.getElementById('records-empty').classList.remove('hidden');

        document.getElementById('records-table-container').classList.add('hidden');

        return;

      }

      

      document.getElementById('records-empty').classList.add('hidden');

      document.getElementById('records-table-container').classList.remove('hidden');

      

      filteredRecords.forEach((record, index) => {

        const row = document.createElement('tr');

        row.innerHTML = `

          <td>${index + 1}</td>

          <td>${record.sessionId}</td>

          <td>${record.employeeId}</td>

          <td>${record.name}</td>

          <td>${record.accessTime}</td>

          <td>${record.page}</td>

          <td>${record.ip}</td>

          <td>${record.device}</td>

        `;

        recordsBody.appendChild(row);

      });

    }



    // 搜索功能

    document.getElementById('search-btn').addEventListener('click', function() {

      const keyword = document.getElementById('search-input').value.toLowerCase();

      filteredRecords = accessRecords.filter(record => {

        return (

          record.sessionId.toLowerCase().includes(keyword) ||

          record.employeeId.toLowerCase().includes(keyword) ||

          record.name.toLowerCase().includes(keyword) ||

          record.page.toLowerCase().includes(keyword)

        );

      });

      updateRecordsTable();

    });



    // 导出记录功能

    document.getElementById('export-btn').addEventListener('click', function() {

      showModal('export-modal');

    });



    document.getElementById('export-confirm-btn').addEventListener('click', function() {

      const password = document.getElementById('export-password').value;

      if (password === exportPassword) {

        hideModal('export-modal');

        // 这里可以添加导出记录的具体逻辑

        exportRecords();

      } else {

        document.getElementById('export-error').style.display = 'block';

      }

    });



    // 修改密码功能

    document.getElementById('password-btn').addEventListener('click', function() {

      showModal('change-password-modal');

    });



    document.getElementById('change-password-btn').addEventListener('click', function() {

      const answer = document.getElementById('security-answer').value;

      if (answer === SECURITY_ANSWER) {

        const newRecordPassword = document.getElementById('new-record-password').value;

        const newExportPassword = document.getElementById('new-export-password').value;

        if (newRecordPassword) {

          recordPassword = newRecordPassword;

          localStorage.setItem('recordPassword', newRecordPassword);

        }

        if (newExportPassword) {

          exportPassword = newExportPassword;

          localStorage.setItem('exportPassword', newExportPassword);

        }

        hideModal('change-password-modal');

        alert('密码修改成功');

      } else {

        document.getElementById('change-error').style.display = 'block';

      }

    });



    // 模态框关闭功能

    const closeButtons = document.querySelectorAll('.close');

    closeButtons.forEach(button => {

      button.addEventListener('click', function() {

        const modalId = this.closest('.modal').id;

        hideModal(modalId);

      });

    });



    // 点击页面任意位置关闭模态框

    window.addEventListener('click', function(event) {

      const modals = document.querySelectorAll('.modal');

      modals.forEach(modal => {

        if (event.target === modal) {

          hideModal(modal.id);

        }

      });

    });



    // 页面加载时显示登录模态框

    window.onload = function() {

      showModal('login-modal');

    };

    

    // 初始化计量柜数据

    function initCabinetData() {

      // 初始化选项卡切换功能

      const tabButtons = document.querySelectorAll('.tab-btn');

      tabButtons.forEach(button => {

        button.addEventListener('click', function() {

          // 移除所有选项卡按钮的活动状态

          tabButtons.forEach(btn => btn.classList.remove('tab-btn-active'));

          // 添加当前按钮的活动状态

          this.classList.add('tab-btn-active');

          

          const tabId = this.getAttribute('data-tab');

          // 隐藏所有选项卡内容

          document.querySelectorAll('.tab-pane').forEach(pane => {

            pane.classList.remove('active');

            // 重置为加载状态

            pane.querySelector('.content-loading').classList.remove('hidden');

            pane.querySelector('.dynamic-content').classList.add('hidden');

          });

          

          // 显示当前选项卡内容

          const currentPane = document.getElementById(tabId);

          currentPane.classList.add('active');

          

          // 模拟加载延迟

          setTimeout(() => {

            loadCabinetData(tabId);

          }, 800);

          

          // 记录访问

          const cabinetNumber = tabId === 'tab4' ? '2号' : tabId === 'tab5' ? '10号' : '19号';

          recordAccess(`${cabinetNumber}计量柜明细`);

        });

      });

    }

    

    // 加载计量柜数据

    function loadCabinetData(tabId) {

      const contentElement = document.getElementById(`${tabId}-content`);

      contentElement.innerHTML = '';

      

      const data = cabinetData[tabId] || [];

      

      data.forEach((item, index) => {

        const row = document.createElement('tr');

        row.className = 'hover:bg-neutral-50 transition-colors duration-200';

        

        // 根据状态设置不同的样式

        let statusClass = '';

        if (item.status === '可用') {

          statusClass = 'text-secondary';

        } else if (item.status === '已借出') {

          statusClass = 'text-warning';

        } else if (item.status === '维修中') {

          statusClass = 'text-danger';

        }

        

        row.innerHTML = `

          <td class="px-6 py-4 whitespace-nowrap">${index + 1}</td>

          <td class="px-6 py-4 whitespace-nowrap">${item.name}</td>

          <td class="px-6 py-4 whitespace-nowrap">${item.model}</td>

          <td class="px-6 py-4 whitespace-nowrap">

            <span class="${statusClass} font-medium">${item.status}</span>

          </td>

          <td class="px-6 py-4 whitespace-nowrap text-sm text-neutral-500">${item.lastUpdate}</td>

        `;

        

        contentElement.appendChild(row);

      });

      

      // 隐藏加载状态，显示内容

      const loadingElement = document.querySelector(`#${tabId} .content-loading`);

      const contentContainer = document.querySelector(`#${tabId} .dynamic-content`);

      

      loadingElement.classList.add('hidden');

      contentContainer.classList.remove('hidden');

    }

    

    // 加载访问记录

    function loadRecords() {

      // 模拟加载延迟

      setTimeout(() => {

        document.getElementById('records-loading').classList.add('hidden');

        updateRecordsTable();

      }, 800);

    }

    

    // 导出记录

    function exportRecords() {

      // 模拟导出功能

      alert('记录导出成功！');

      recordAccess('导出记录');

    }

    

    // 初始化查看密钥按钮

    function initKeyButtons() {

      const loadButtons = document.querySelectorAll('.load-btn');

      loadButtons.forEach(button => {

        button.addEventListener('click', function() {

          const targetId = this.getAttribute('data-target');

          const card = this.closest('.load-card');

          

          // 显示加载状态

          this.disabled = true;

          this.innerHTML = '<div class="animate-spin rounded-full h-5 w-5 border-b-2 border-white mx-auto"></div>';

          

          // 模拟加载延迟

          setTimeout(() => {

            // 隐藏加载状态，显示内容

            card.querySelector('.content-loading').classList.add('hidden');

            const content = card.querySelector('.dynamic-content');

            content.classList.remove('hidden');

            

            // 更新时间

            const now = new Date();

            const timeElement = content.querySelector('span');

            if (timeElement) {

              timeElement.textContent = now.toLocaleString();

            }

            

            // 重置按钮

            this.disabled = false;

            this.innerHTML = '已显示';

            this.classList.add('bg-secondary');

            

            // 记录访问

            const cabinetNumber = card.querySelector('h3').textContent;

            recordAccess(`${cabinetNumber}密钥`);

          }, 800);

        });

      });

    }

  </script>

</body>

</html>  


